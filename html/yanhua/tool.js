function $(sel,context,tagName){context=context||document;tagName=tagName||"*";if(sel.charAt(0)=="#"){return document.getElementById(sel.substring(1))}else if(sel.charAt(0)=="."){var aEls=context.getElementsByTagName("tagName");var arrEls=[];for(var i=0;i<aEls.length;i+=1){var arrClassNames=aEls[i].className.split(" ");for(var j=0;j<arrClassNames.length;j+=1){if(arrClassNames[j]==sel.substring(1)){arrEls.push(aEls[i]);break}}}return arrEls}else{return context.getElementsByTagName(sel)}}function getClassName(myLei,parent,tagName){parent=parent||document;tagName=tagName||"*";var aELs=parent.getElementsByTagName(tagName);var arrEls=[];for(var i=0;i<aELs.length;i+=1){var arrClassNames=aELs[i].className.split(" ");for(var j=0;j<arrClassNames.length;j+=1){if(arrClassNames[j]==myLei){arrEls.push(aELs[i]);"aa";break}}}return arrEls;}function getStyle(obj,attr){return obj.currentStyle?obj.currentStyle[attr]:getComputedStyle(obj)[attr]}function arrIndexOf(arr,val,index){if(arguments.length!=0&&arguments.lenght!=1){index=index||0;for(var i=index;i<arr.length;i+=1){if(arr[i]===val){return i}}return -1}return "输入的内容有误！"}function addClass(obj,className){if(obj.className==""){obj.className=className}else{var arrClassNames=obj.className.split(" ");var Index=arrIndexOf(arrClassNames,className);if(Index==-1){obj.className+=" "+className}}}function removeClass(obj,className){if(obj.className!==""){var arrClassNames=obj.className.split(" ");for(var j=0;j<arrClassNames.length;j+=1){if(arrClassNames[j]==className){arrClassNames.splice(j,1);j=-1}}obj.className=arrClassNames.join(" ")}}function Zero(abc){return abc<10?abc="0"+abc:abc}function msZero(abc){if(abc<10){return abc="00"+abc}else if(abc<100){return abc="0"+abc}else{return abc}}function first(eles){var first=eles.firstElementChild||eles.firstChild;if(!first||first.nodeType!==1){return null}else{return first}}function last(eles){var last=eles.lastElementChild||eles.lastChild;if(!last||last.nodeType!==1){return null}else{return last}}function next(eles){var next=eles.nextElementSibling||eles.nextSibling;if(!next||next.nodeType!==1){return null}else{return next}}function prev(eles){var prev=eles.previousElementSibling||eles.previousSibling;if(!prev||prev.nodeType!==1){return null}else{return prev}}function drag(obj){var W;var H;obj.onmousedown=function(ev){ev=ev||event;var scrollTop=document.documentElement.scrollTop||document.body.scrollTop;L=ev.clientX-obj.offsetLeft;T=ev.clientY+scrollTop-obj.offsetTop;document.onmousemove=function(ev){ev=ev||event;ev.preventDefault&&ev.preventDefault();if(ev.returnValue){ev.returnValue=false}obj.setCapture&&obj.setCapture();var X=ev.clientX-L,Y=ev.clientY-T,maxX=document.documentElement.clientWidth-obj.offsetWidth,maxY=document.documentElement.clientHeight-obj.offsetHeight;var scrollTop=document.documentElement.scrollTop||document.body.scrollTop;X=X<0?0:X;Y=Y<0?0:Y;X=X>maxX?maxX:X;Y=Y>maxY?maxY:Y;obj.style.left=X+"px";obj.style.top=Y+scrollTop+"px"};document.onmouseup=function(){obj.releaseCapture&&obj.releaseCapture();document.onmousemove=null}}}function hitTest(obj,obj2){var objL=obj.offsetLeft,objW=obj.offsetWidth,objT=obj.offsetTop,objH=obj.offsetHeight;var obj2L=obj2.offsetLeft,obj2W=obj2.offsetWidth,obj2T=obj2.offsetTop,obj2H=obj2.offsetHeight;if(objL+objW<obj2L||objT+objH<obj2T||objL>obj2L+obj2W||objT>obj2T+obj2H){return false}else{return true}}function setCookie(key,value,t){var oDate=new Date();oDate.setDate(oDate.getDate()+t);document.cookie=key+"="+encodeURI(value)+";expires="+oDate.toGMTString()}function getCookie(key){var arr=document.cookie.split("; ");for(var i=0;i<arr.length;i+=1){var newArr=arr[i].split("=");if(newArr[0]==key){return decodeURI(newArr[1])}}}function removeCookie(key){setCookie(key,"",-1)}function ajax(options){var defaults={method:options.method||"get",url:options.url,data:options.data||"",fn:options.fn||null,dataType:options.dataType||""};var xhr=null;try{xhr=new XMLHttpRequest()}catch(e){xhr=new ActiveXObject("Microsoft.XMLHTTP")}if(defaults.method=="get"&&defaults.data){defaults.url=defaults.url+"?"+defaults.data+"&"+new Date().getTime()}xhr.open(defaults.method,defaults.url,true);if(defaults.method=="post"){xhr.setRequestHeader('content-type','application/x-www-form-urlencoded');xhr.send(defaults.data)}else{xhr.send()}xhr.onreadystatechange=function(){if(xhr.readyState==4){if(xhr.status==200){var data=xhr.responseText;if(defaults.dataType=="json"){data=JSON.parse(xhr.responseText)}if(defaults.dataType=="xml"){data=xhr.responseXML}defaults.fn&&defaults.fn(data)}else{alert("错了，状态码是："+xhr.status)}}}}function move(obj,attr,speed,target,endFn){clearInterval(obj.timer);speed=parseInt(getStyle(obj,attr))<target?speed: -speed;obj.timer=setInterval(function(){var num=parseInt(getStyle(obj,attr))+speed;if(num>target&&speed>0||num<target&&speed<0){num=target}obj.style[attr]=num+"px";if(num==target){clearInterval(obj.timer);obj.timer=null;endFn&&endFn()}},30)}function shake(obj,attr,fudu,rate,fn){if(obj.timer){return}var objL=parseInt(getStyle(obj,attr));var arr=[];for(var i=fudu;i>0;i-=rate){arr.push(-i,i)}arr.push(0);var n=0;obj.timer=setInterval(function(){obj.style[attr]=objL+arr[n]+"px";n+=1;if(n>arr.length-1){clearInterval(obj.timer);obj.timer=null;fn&&fn()}},30)}function startMove(obj,json,fn){clearInterval(obj.timer);obj.timer=setInterval(function(){var onOff=true;for(var attr in json){if(attr=="opacity"){var iCur=parseInt(getStyle(obj,attr)*100)}else{var iCur=parseInt(getStyle(obj,attr))}var speed;if((json[attr]-iCur)>0){speed=Math.ceil((json[attr]-iCur)/8)}else{speed=Math.floor((json[attr]-iCur)/8)}if(iCur!=json[attr]){onOff=false}if(attr=="opacity"){obj.style.opacity=(iCur+speed)/100;obj.style.filter="alpha(opacity="+(iCur+speed)+")"}else{obj.style[attr]=iCur+speed+"px"}}if(onOff){clearInterval(obj.timer);obj.timer=null;fn&&fn()}},30)}function parabola(obj,target,speed,fn){obj.timer=null;var a=0.0008;var objPos={"left":parseInt(getStyle(obj,"left")),"top":parseInt(getStyle(obj,"top"))};var coord={"x":target.left-objPos.left,"y":target.top-objPos.top};var b=(coord.y-a*coord.x*coord.x)/coord.x;var num=0;obj.timer=setInterval(function(){num+=speed;obj.style.left=objPos.left+num+"px";obj.style.top=objPos.top+a*num*num+b*num+"px";if(num>=coord.x){clearInterval(obj.timer);obj.style.left=target.x+"px";obj.style.top=target.y+"px";fn&&fn()}},30)}function randomColor(){var R=Math.round(Math.random()*255).toString(16);var G=Math.round(Math.random()*255).toString(16);var B=Math.round(Math.random()*255).toString(16);return "#"+(R.length>1?R:"0"+R)+(G.length>1?G:"0"+G)+(B.length>1?B:"0"+B)}